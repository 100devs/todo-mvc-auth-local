<!DOCTYPE html>
<html lang="en">
    <%-include ('partials/head') %>
<body>
    <%- include ('partials/header') %>
    <h1>Journal</h1>
    <a id='newPost' href="/blogPost/createBlogPost"><i class="fa-solid fa-circle-plus"></i> Create New Post</a>

    <ul>
    <h2>You have logged <%= postCount %> journal entries.</h2>
    <% BlogPost.forEach( items => { %>
            <li class='postItem' data-id='<%=items._id%>'>
                <div class='title'> <h4><a href="/blogPost/display/<%=items._id%>"><%= items.title %></a></h4>  </div> 
                <div class='body'> <a href="/blogPost/display/<%=items._id%>"><%= items.body %></a>  </div>
                <div class='gitHub'><i class="<% if(items.gitHub) { %>fa-brands fa-github <% } %>"></i> <a href="<% if(items.gitHub) { %> <%= items.gitHub %> <% } %>"><%= items.gitHub %></a>  </div>
                <div class='date'> Posted on <%= items.date.toLocaleString('en-us') %>  </div>
                <div class='dueDate'><% if(items.dueDate) { %> Due <%= items.dueDate %> <% } %></div>
                <div class="mood">Mood: <%= items.mood %> </div>
                <div id="actionsContainer">
                    <form action="/blogPost/edit/<%= items._id %>" action="GET">
                        <input type="submit" class="editButton button-18" value="Edit">
                    </form>
                        <button onclick="deletePost" class="button-18 del" id="del">Delete</button>
                        <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-text="Hi everyone, I just published a new project on my DevDays blog. Check it out! " data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>                </div>
            </li> 
    <% }) %>    
    </ul>

    <script src="/js/main.js"></script>
</body>
</html>
